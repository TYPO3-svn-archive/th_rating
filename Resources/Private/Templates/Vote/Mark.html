<f:layout name="DefaultLayout" />

<f:section name="content">
<f:comment><!-- switch according display mode --></f:comment>
	{f:if(condition: '{voting}', then: '<span class="tx_thrating_ajax-voting-On">', else: '<span class="tx_thrating_ajax-voting-On hidden">')}
		<f:comment><!-- display if any vote has be done yet --></f:comment>
		<f:render partial="usersRating" arguments="{voting:voting, ratingClass:ratingClass, ratingobject:rating.ratingobject, ratingName:ratingName, stepCount:stepCount, usersRate:usersRate}"/>
</span>
	{f:if(condition: '{voting}', then: '<span class="tx_thrating_ajax-voting-Off hidden">', else: '<span class="tx_thrating_ajax-voting-Off">')}
		<f:comment><!-- display normal ratinglinkblock --></f:comment>
		<f:render partial="ratinglinkBlock" arguments="{voting:voting, ratingClass:ratingClass, ratingobject:rating.ratingobject, ratingName:ratingName, rating:rating, currentRates:rating.currentRates.currentrate, stepCount:stepCount, barimage:barimage, ajaxSelections:ajaxSelections}"/>
</span>
</f:section>
<f:comment>
<!--
******************************************************************************************
* Forwarded variables
* --------------------
* ==> all variables used in defaultLayout
* {barimage}		-	ratingbar / noratingbar
* {rating}			-	the ratingObject
* {ratingName}		-	Name of the ratinglink
* {ratingClass}		-	tilt / normal
* {ajaxSelections}	-	associative array of possible ratingsteps consisting of
*						[order of ratingstep]
*							['step'] 		- Domain object: stepconf
*							['ajaxvalue']	- JSON encoded value to handle AJAX request
******************************************************************************************
-->
</f:comment>